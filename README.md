# Мессенджер для ГУАП

[![.NET](https://img.shields.io/badge/.NET-9.0-blueviolet)](https://dotnet.microsoft.com/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-17-blue)](https://www.postgresql.org/)

## Описание проекта

**GUAP Messenger** — это современное веб-приложение для обмена сообщениями в реальном времени, разработанное для студентов, преподавателей и сотрудников Государственного университета аэрокосмического приборостроения (ГУАП). Проект реализует функционал мессенджера, включая:

- Личные и групповые чаты.
- Отправку текстовых сообщений и файлов.
- Уведомления в реальном времени.
- Интеграцию с внутренними системами аутентификации ГУАП.
- Возможность работы в качестве службы Windows для фонового выполнения серверной части.

Разработка ведётся по методологии **Waterfall**, обеспечивая чёткую последовательность этапов от анализа требований до развертывания. Полная документация проекта доступна в [GitHub Wiki](https://github.com/art2535/GUAP_Messenger/wiki) с иерархической структурой страниц, включая разделы **Requirements** (BRD, SRS), **Design** (HLD, LLD), **Обзор проекта**, **Стиль документации**, **Ответственные/Роли**, **Процессы**, **Архитектура**, **API/Интеграции**, **Инструкции**, **Проекты/Аутсорс**, **Поддержка/Maintenance** и **Архив/История версий**.

Проект находится в активной разработке. Релизы и пакеты пока не опубликованы, но код открыт для изучения и вклада.

**Заказчик**: [ГУАП (Государственный университет аэрокосмического приборостроения)](https://guap.ru).  
**Дата создания**: 17 сентября 2025 г.

## Технологии

Проект построен на современном технологическом стеке для обеспечения надёжности, масштабируемости и удобства:

| Компонент       | Технология                  | Описание |
|-----------------|-----------------------------|----------|
| **Frontend**   | ASP.NET Razor Pages        | Динамические веб-страницы с серверным рендерингом. |
| **Real-time**  | SignalR                    | Обеспечение мгновенных обновлений чатов. |
| **Backend**    | ASP.NET Core API           | RESTful API для обработки запросов. |
| **ORM**        | Entity Framework Core      | Работа с данными и миграциями БД. |
| **База данных**| PostgreSQL 17              | Надёжное хранение сообщений и пользователей. |
| **CI/CD**      | GitHub Actions             | Автоматизация сборки, тестирования и деплоя. |
| **Тестирование**| xUnit + ручное UI-тестирование | Unit-тесты и проверка интерфейса. |
| **Служба**     | Windows Service            | Фоновое выполнение серверной части приложения. |

## Установка и запуск

### Требования
- [.NET SDK 9.0](https://dotnet.microsoft.com/download/dotnet/9.0) или выше.
- [PostgreSQL 17](https://www.postgresql.org/download/) с доступом к серверу.
- Git для клонирования репозитория.
- Windows (для настройки службы Windows).

### Шаги установки
1. **Клонируйте репозиторий**:
   ```
   git clone https://github.com/art2535/GUAP_Messenger.git
   cd GUAP_Messenger
   ```

2. **Настройте подключение к базе данных** в файле `appsettings.json` (для защиты данных используйте `secrets.json`) (или `appsettings.Development.json` для разработки):
   ```json
   {
     "ConnectionStrings": {
       "DefaultConnection": "Host=localhost;Database=GUAP_Messenger;Username=postgres;Password=your_secure_password"
     }
   }
   ```
   Замените `your_secure_password` на реальный пароль от PostgreSQL.

3. **Настройте JWT-ключ для шифрования пользовательских данных** в файле `appsettings.json` (для защиты данных используйте `secrets.json`) (или `appsettings.Development.json` для разработки):
	```json
   {
     "Jwt": {
       "Key": "your_secret_strong_key"
     }
   }
   ```
   Замените `your_secret_strong_key` на сильный ключ JWT.

4. **Восстановите зависимости**:
   ```
   dotnet restore
   ```

5. **Создайте и примените миграции базы данных**:
   ```
   dotnet ef migrations add InitialCreate
   dotnet ef database update
   ```

6. **Запустите приложение в режиме разработки**:
   ```
   dotnet run
   ```
   Приложение будет доступно по адресу `https://localhost:5001` (порт может варьироваться; проверьте вывод консоли).

7. **Настройка службы Windows**:
   - Скомпилируйте проект в релизной конфигурации:
     ```
     dotnet publish -c Release -o ./publish
     ```
   - Установите приложение как службу Windows с помощью `sc`:
     ```
     sc create MessengerService binPath= "путь_к_папке_publish\Messenger.Service.exe"
     ```
   - Запустите службу:
     ```
     net start MessengerService
     ```
   - Для управления службой используйте команды `net stop MessengerService` или интерфейс Windows Services.

## Использование

- **Авторизация**: Используйте учётные данные ГУАП.
- **Чаты**: Создавайте личные диалоги или группы, отправляйте сообщения и файлы. Уведомления приходят мгновенно благодаря SignalR.
- **Фоновая работа**: Серверная часть может работать как служба Windows, обеспечивая постоянную доступность.
- **Документация**: Подробные инструкции по функциям — в [Wiki: Инструкции](https://github.com/art2535/GUAP_Messenger/wiki/Инструкции).

Для устранения ошибок см. [Поддержка и Maintenance](https://github.com/art2535/GUAP_Messenger/wiki/%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B0-%D0%B8-Maintenance). История изменений доступна в [Архив / История версий](https://github.com/art2535/GUAP_Messenger/wiki/%D0%90%D1%80%D1%85%D0%B8%D0%B2-%D0%B8-%D0%B8%D1%81%D1%82%D0%BE%D1%80%D0%B8%D1%8F-%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D0%B9).

## Вклад в разработку

Проект открыт для вклада. Мы приветствуем улучшения, исправления багов и новые функции. Шаги для участия:

1. **Форкните репозиторий** на GitHub.
2. **Создайте новую ветку**:
   ```
   git checkout -b feature/название-вашей-фичи
   ```
3. **Внесите изменения** и закоммитьте:
   ```
   git add .
   git commit -m "Добавлена фича: краткое описание"
   ```
4. **Запушьте ветку**:
   ```
   git push origin feature/название-вашей-фичи
   ```
5. **Создайте Pull Request** (PR) с подробным описанием изменений.

Все изменения проходят **код-ревью** через PR. Убедитесь, что код проходит CI/CD-тесты. Подробности процессов — в [Wiki: Процессы](https://github.com/art2535/GUAP_Messenger/wiki/%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D1%8B).

## Поддержка

- **Issues**: Создавайте тикеты в [GitHub Issues](https://github.com/art2535/GUAP_Messenger/issues) для багов, вопросов или предложений.
- **Критические проблемы**: Свяжитесь с Project Manager через личные сообщения в GitHub или email (указано в Wiki).
- **Руководства по устранению ошибок**: См. [Поддержка и Maintenance](https://github.com/art2535/GUAP_Messenger/wiki/%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B0-%D0%B8-Maintenance).

## Лицензия

Проект пока не имеет официальной лицензии. Планируется добавление файла `LICENSE.md` в ближайших релизах. Использование регулируется правилами ГУАП и GitHub.

## Авторы и контакты

- **Ведущий разработчик и Project Manager**: [art2535](https://github.com/art2535) (Артём Петров, студент 4 курса ФСПО ГУАП, специальность 09.02.07 "Информационные системы и программирование").
- **Контакт**: Через GitHub или [Wiki](https://github.com/art2535/GUAP_Messenger/wiki).

Спасибо за интерес к проекту! Присоединяйтесь к разработке! 🚀
